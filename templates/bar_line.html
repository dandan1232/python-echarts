<!DOCTYPE html>
<html leng="en">
<head>
    <meta charset="UTF-8">
    <title>折柱图</title>
</head>
<!--  导入echarts和jquery包  -->
<script src="https://cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script>
<script src="https://assets.pyecharts.org/assets/echarts.min.js"></script>
<body>
<div id="main" style="height: 1150px;width: 3200px"></div>
<script type="text/javascript">
    function drew(data) {
        var myChart = echarts.init(document.getElementById("main"))
        var option = {
            title: {
                text: '折柱图',
                textStyle: {
                    color: 'red',
                    fontStyle: 'italic',
                    fontWeight: 'bold',
                    fontFamily: 'STSONGTI'
                },
                subtext: '猜的',
            },
            tooltip: {
                tigger: 'axis'
            },
            legend: {
                data: ['书籍']
            },
            xAxis: {
                name: '书',

                axisLine: {
                    show: true,
                    symbol: ['none', 'arrow'],
                    symbolSize: [8, 8]
                },
                // axisLabel: {
                //     formatter: function (value) {
                //         var str = value.split("");
                //         return str.join("\n");
                //     }
                // }
            },
            yAxis: {
                name: '价格',
                data: data.xvalue,
                axisLine: {
                    show: true,
                    symbol: ['none', 'arrow'],
                    symbolSize: [8, 8]
                }
            },
            series: [
                {
                    type: 'line',
                    name: '书',
                    data: data.yvalue,
                    smooth:true
                },
                {
                    type: 'bar',
                    name: '书',
                    data: data.yvalue
                }
            ]
        }
        myChart.setOption(option)
    }

    $.get('/bar_linedata', function (data) {
        drew(data)
    }, 'json')

</script>
</body>
</html>